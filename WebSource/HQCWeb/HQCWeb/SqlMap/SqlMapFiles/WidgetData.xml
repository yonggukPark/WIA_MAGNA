<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="WidgetData" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >
  <statements>
    <!-- 
    
    -->
    <statement id="Get_WidgetList" parameterClass="System.Collections.Hashtable">
      <![CDATA[          
          SELECT  
            WIDGET_NUM
            , WIDGET_NM
            , WIDGET_URL
            , dbo.GET_COMM_DESC('WIDGET_SIZE', WIDGET_SIZE) AS WIDGET_SIZE
            , dbo.GET_COMM_DESC('USE_YN', USE_YN) AS USE_YN
            , CONVERT(VARCHAR(19), REGIST_DATE, 121) AS REGIST_DATE
            , REGIST_USER_ID
            , CONVERT(VARCHAR(19), MODIFY_DATE, 121) AS MODIFY_DATE
            , MODIFY_USER_ID            
	        FROM MA_WIDGET WITH(NOLOCK)
	        WHERE WIDGET_NM LIKE '%' + (CASE WHEN #WIDGET_NM# = '' THEN WIDGET_NM ELSE #WIDGET_NM# END) + '%'
          ORDER BY REGIST_DATE DESC
      ]]>
    </statement>

    <!-- 
    
    -->
    <statement id="Get_WidgetInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
        SELECT 
	        WIDGET_NUM
          , WIDGET_NM
          , WIDGET_URL
          , WIDGET_SIZE
          , USE_YN
          , DISPLAY_SEQ
        FROM MA_WIDGET WITH(NOLOCK)
        WHERE WIDGET_NUM = #WIDGET_NUM#
      ]]>
    </statement>

    <!-- 
    
    -->
    <statement id="Set_WidgetInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
        MERGE INTO MA_WIDGET AS A
        USING (SELECT #WIDGET_NUM#) AS B (WIDGET_NUM)
           ON (A.WIDGET_NUM = B.WIDGET_NUM)
        WHEN MATCHED THEN
	        UPDATE SET 
          A.WIDGET_NM	          = #WIDGET_NM#
	        , A.WIDGET_URL	      = #WIDGET_URL#
	        , A.WIDGET_SIZE	      = #WIDGET_SIZE#
          , A.MODIFY_DATE			  = GETDATE()
	        , A.MODIFY_USER_ID	  = #REG_ID#
          , A.USE_YN	          = #USE_YN#
          , A.DISPLAY_SEQ       = #DISPLAY_SEQ#
        WHEN NOT MATCHED THEN
	        INSERT(
            WIDGET_NM, WIDGET_URL, WIDGET_SIZE, USE_YN, REGIST_DATE, REGIST_USER_ID, MODIFY_DATE, MODIFY_USER_ID, DISPLAY_SEQ
          ) 
	        VALUES (
            #WIDGET_NM#, #WIDGET_URL#, #WIDGET_SIZE#, #USE_YN#, GETDATE(), #REG_ID#, GETDATE(), #REG_ID#, #DISPLAY_SEQ#
          );
      ]]>
    </statement>

    <!-- 
    
    -->
    <statement id="Set_WidgetInfoDel" parameterClass="System.Collections.Hashtable">
      <![CDATA[

        UPDATE MA_WIDGET SET
          USE_YN = 'N'
        WHERE WIDGET_NUM = #WIDGET_NUM# 
        
      ]]>
    </statement>
    
    <!-- 
    WHERE CCM.COMM_DESC = #WIDGET_SIZE#
    -->
    <statement id="Get_WidgetTemplateInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
	      SELECT 
		      WM.WIDGET_URL
		      , WM.WIDGET_NM
		      , CCM.COMM_DESC AS WIDGET_SIZE
		      , WM.WIDGET_NUM
	      FROM MA_WIDGET AS WM WITH(NOLOCK) 
		      LEFT OUTER JOIN  MA_COMMON_CODE AS CCM WITH(NOLOCK)
			      ON WM.WIDGET_SIZE = CCM.COMM_CD	  
        WHERE WM.WIDGET_SIZE = #WIDGET_SIZE#
          AND WM.USE_YN = 'Y'
      ]]>
    </statement>

    <!-- 
    
    -->
    <statement id="Get_UserByWidgetInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
        DECLARE @WIDGET_CNT INT
        
        SELECT 
          @WIDGET_CNT = COUNT(USER_ID) 
        FROM MA_USER_WIDGET WITH(NOLOCK)
        WHERE USER_ID = #USER_ID#      

        IF @WIDGET_CNT > 0
        BEGIN      
            SELECT 
              USER_ID
              , FRAME_NUM
	            , WIDGET_01
	            , WIDGET_02
	            , WIDGET_03
	            , WIDGET_04
	            , WIDGET_05
	            , WIDGET_06
	            , WIDGET_07
	            , WIDGET_08
	            , WIDGET_09
              , WIDGET_10
              , WIDGET_11
              , WIDGET_12
              , WIDGET_13
              , WIDGET_14
              , WIDGET_15
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_URL
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01),1) AS WIDGET_01_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02),1) AS WIDGET_02_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03),1) AS WIDGET_03_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04),3) AS WIDGET_04_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05),2) AS WIDGET_05_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06),3) AS WIDGET_06_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07),2) AS WIDGET_07_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08),4) AS WIDGET_08_SIZE
	            , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09),4) AS WIDGET_09_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10),3) AS WIDGET_10_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11),2) AS WIDGET_11_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12),4) AS WIDGET_12_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13),4) AS WIDGET_13_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14),1) AS WIDGET_14_SIZE
              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15),1) AS WIDGET_15_SIZE
	            , (SELECT MAIN_FRAME_URL FROM MA_WIDGET_FRAME B WHERE B.FRAME_NUM = A.FRAME_NUM) AS MAIN_FRAME_URL
	            , (SELECT MOD_FRAME_URL FROM MA_WIDGET_FRAME  B WHERE B.FRAME_NUM = A.FRAME_NUM) AS MOD_FRAME_URL
            FROM MA_USER_WIDGET A WITH(NOLOCK)
            WHERE A.USER_ID = #USER_ID#
        END
        ELSE 
        BEGIN
          SELECT 
	              #USER_ID# AS USER_ID
                , FRAME_NUM
	              , WIDGET_01
	              , WIDGET_02
	              , WIDGET_03
	              , WIDGET_04
	              , WIDGET_05
	              , WIDGET_06
	              , WIDGET_07
	              , WIDGET_08
	              , WIDGET_09
                , WIDGET_10
                , WIDGET_11
                , WIDGET_12
                , WIDGET_13
                , WIDGET_14
                , WIDGET_15
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_URL
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01),1) AS WIDGET_01_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02),1) AS WIDGET_02_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03),1) AS WIDGET_03_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04),3) AS WIDGET_04_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05),2) AS WIDGET_05_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06),3) AS WIDGET_06_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07),2) AS WIDGET_07_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08),4) AS WIDGET_08_SIZE
	              , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09),4) AS WIDGET_09_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10),3) AS WIDGET_10_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11),2) AS WIDGET_11_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12),4) AS WIDGET_12_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13),4) AS WIDGET_13_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14),1) AS WIDGET_14_SIZE
                , ISNULL((SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15),1) AS WIDGET_15_SIZE
	              , MAIN_FRAME_URL
	              , MOD_FRAME_URL
            FROM MA_WIDGET_FRAME A WITH(NOLOCK)
            WHERE A.FRAME_NUM = (SELECT MIN(FRAME_NUM) FROM MA_WIDGET_FRAME WITH(NOLOCK) )
        END
      ]]>
    </statement>

    <!-- 
    
    -->
    <statement id="Set_UserByWidgetInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
        MERGE INTO MA_USER_WIDGET AS A
        USING (SELECT #USER_ID#) AS B (USER_ID)
           ON (A.USER_ID = B.USER_ID)
        WHEN MATCHED THEN
	        UPDATE SET           
            A.FRAME_NUM         = #FRAME_NUM#
            , A.WIDGET_01       = #WIDGET_01#
            , A.WIDGET_02       = #WIDGET_02#
            , A.WIDGET_03       = #WIDGET_03#
            , A.WIDGET_04       = #WIDGET_04#
            , A.WIDGET_05       = #WIDGET_05#
            , A.WIDGET_06       = #WIDGET_06#
            , A.WIDGET_07       = #WIDGET_07#
            , A.WIDGET_08       = #WIDGET_08#
            , A.WIDGET_09       = #WIDGET_09#
            , A.WIDGET_10       = #WIDGET_10#
			      , A.WIDGET_11       = #WIDGET_11#
			      , A.WIDGET_12       = #WIDGET_12#
			      , A.WIDGET_13       = #WIDGET_13#
			      , A.WIDGET_14       = #WIDGET_14#
			      , A.WIDGET_15       = #WIDGET_15#
	          , A.MODIFY_DATE			= GETDATE()
	          , A.MODIFY_USER_ID	= #REG_ID#
        WHEN NOT MATCHED THEN
	        INSERT(
            USER_ID , FRAME_NUM, WIDGET_01 , WIDGET_02 , WIDGET_03 , WIDGET_04, WIDGET_05 , WIDGET_06 , WIDGET_07 , WIDGET_08 , WIDGET_09, WIDGET_10, WIDGET_11, WIDGET_12, WIDGET_13, WIDGET_14, WIDGET_15, REGIST_USER_ID, REGIST_DATE, MODIFY_USER_ID, MODIFY_DATE
          ) 
	        VALUES (
            #USER_ID#, #FRAME_NUM#, #WIDGET_01#, #WIDGET_02#, #WIDGET_03#, #WIDGET_04#, #WIDGET_05#, #WIDGET_06#, #WIDGET_07#, #WIDGET_08#, #WIDGET_09#, #WIDGET_10#, #WIDGET_11#, #WIDGET_12#, #WIDGET_13#, #WIDGET_14#, #WIDGET_15#, #REG_ID#, GETDATE(), #REG_ID#, GETDATE()
          );
      ]]>
    </statement>

    <statement id="Get_ddlFrame" parameterClass="System.Collections.Hashtable">
      <![CDATA[
          SELECT FRAME_NUM AS CODE_ID, FRAME_NM AS CODE_NM
          FROM MA_WIDGET_FRAME WITH(NOLOCK)
          WHERE USE_YN = 'Y'
          ORDER BY FRAME_NUM
      ]]>
    </statement>
    
    <statement id="Get_WidgetByFrameInfo" parameterClass="System.Collections.Hashtable">
      <![CDATA[
        DECLARE @WIDGET_CNT INT
        
        SELECT 
          @WIDGET_CNT = COUNT(USER_ID) 
        FROM MA_USER_WIDGET WITH(NOLOCK)
        WHERE USER_ID = #USER_ID#      
        AND FRAME_NUM = #FRAME_NUM#

        IF @WIDGET_CNT > 0
        BEGIN      
            SELECT 
              USER_ID
	            , WIDGET_01
	            , WIDGET_02
	            , WIDGET_03
	            , WIDGET_04
	            , WIDGET_05
	            , WIDGET_06
	            , WIDGET_07
	            , WIDGET_08
	            , WIDGET_09
              , WIDGET_10
              , WIDGET_11
              , WIDGET_12
              , WIDGET_13
              , WIDGET_14
              , WIDGET_15
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_URL
	            , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_URL
              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_URL
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_SIZE
	            , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_SIZE
              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_SIZE
	            , (SELECT MOD_FRAME_URL FROM MA_WIDGET_FRAME  B WHERE B.FRAME_NUM = A.FRAME_NUM) AS MOD_FRAME_URL
            FROM MA_USER_WIDGET A WITH(NOLOCK)
            WHERE A.USER_ID = #USER_ID#
            AND A.FRAME_NUM = #FRAME_NUM#
        END
        ELSE 
        BEGIN
            SELECT 
	              #USER_ID# AS USER_ID
	              , WIDGET_01
	              , WIDGET_02
	              , WIDGET_03
	              , WIDGET_04
	              , WIDGET_05
	              , WIDGET_06
	              , WIDGET_07
	              , WIDGET_08
	              , WIDGET_09
                , WIDGET_10
                , WIDGET_11
                , WIDGET_12
                , WIDGET_13
                , WIDGET_14
                , WIDGET_15
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_URL
	              , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_URL
                , (SELECT WIDGET_URL FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_URL
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_01) AS WIDGET_01_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_02) AS WIDGET_02_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_03) AS WIDGET_03_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_04) AS WIDGET_04_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_05) AS WIDGET_05_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_06) AS WIDGET_06_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_07) AS WIDGET_07_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_08) AS WIDGET_08_SIZE
	              , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_09) AS WIDGET_09_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_10) AS WIDGET_10_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_11) AS WIDGET_11_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_12) AS WIDGET_12_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_13) AS WIDGET_13_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_14) AS WIDGET_14_SIZE
                , (SELECT WIDGET_SIZE FROM MA_WIDGET WHERE WIDGET_NUM = WIDGET_15) AS WIDGET_15_SIZE
	              , MOD_FRAME_URL
            FROM MA_WIDGET_FRAME A WITH(NOLOCK)
            WHERE A.FRAME_NUM = #FRAME_NUM#
        END
      ]]>
    </statement>

    <statement id="Get_CalendarData" parameterClass="System.Collections.Hashtable">
      <![CDATA[
          SELECT 2025 AS INSPECT_YEAR, 20250208 AS INSPECT_DATE, '검교정 내용' AS MAN_NO, 1 AS CNT;
          SELECT 1 ;
          SELECT 20250220 AS DATA_DATE, 50 AS NOTICE_NUM, '새로운 공지' AS NOTICE_TITLE, 1 AS CNT;
      ]]>
    </statement>
    
  </statements>

</sqlMap>